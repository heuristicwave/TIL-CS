## CPU 스케줄링

### CPU 스케줄러

CPU가 유휴 상태가 될 때마다, 운영체제는 준비 완료 큐에 있는 프로세스들 중에서 하나를 선택해 실행해야 한다. 선택 절차는 **단기 스케줄러**에 의해 수행된다. 큐에 있는 레코드들은 일반적으로 프로세스들의 프로레스 제어 블록(PCB)들이다.



### 선점 스케줄링

CPU 스케줄링 결정은 다음의 4가지 상황 하에서 발생할 수 있다.

1. 한 프로세스가 실행 상태에서 대기 상태로 전환될 때
2. 프로세스가 실행 상태에서 준비 완료 상태로 전환될 때
3. 프로세스가 대기 상태에서 준비 완료 상태로 전환될 때
4. 프로세스가 종료할 때

1과 4의 경우, 스케줄링 면에서 선택의 여지가 없다. 이를 **비선점** 또는 **협조적**이라 한다. 그렇지 않으면 **선점**이라고 한다.



### Dispatcher

디스패처는 CPU의 제어를 단기 스케줄러가 선택한 프로세스에게 주는 모듈이며 다음과 같은 작업을 포함한다.

- 문맥을 교환하는 일
- 사용자 모드로 전환하는 일
- 프로그램을 다시 시작하기 위해 사용자 프로그램의 적절한 위치로 jump하는 일

디스패처가 하나의 프로세스를 정지하고 다른 프로세스의 수행을 시작하는 데까지 소요되는 시간을 **디스패치 지연**이라고 한다.



### 스케줄링 기준

- CPU 이용률
- 처리량 (throughput) : 단위 시간당 완료된 프로세스의 개수로 작업략을 측정하고 이것을 처리량 이라고 한다.
- 총처리 시간 : 프로세스의 제출 시간과 완료 시간의 간격, 총처리 시간은 메모리에 들어가기 위해 기다리며 소비한 시간, 준비 완료 큐에서 대기한 시간, CPU에서 실행한 시간, 입출력 시간을 합한 시간이다.
- 대기 시간 : 스케줄링 알고리즘은 프로세스가 실행하거나 입출력을 하는 시간의 양에 영향을 미치지는 않는다. 스케줄링 알고리즘은 단지 프로세스가 준비 완료 큐에서 대기하는 시간의 양에만 영향을 준다. 대기 시간은 준비 완료 큐에서 대기하면서 보낸 시간의 합니다.
- 응답 시간 : 응답이 시작되는 데까지 걸리는 시간

