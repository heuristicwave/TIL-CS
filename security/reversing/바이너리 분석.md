## 바이너리

### 바이너리 분석 절차

파일이 어떤 형식인지, 파일 안에 포함된 문자열 중 사람이 인식 가능한 문자열이 있는지, 표층에 있는 **표층 분석**을 수행한다. 이후, 표층 분석을 바탕으로 실제 파일을 실행해서 살펴보는 `동적 분석`으로 특이점을 찾은 부분에 중점을 두고 분석하다 코드를 리버싱하여 읽어들인 코드를 `정적 분석`으로 분석하면 어떻게 작동하는지 알 수 있다.



#### 표층 분석

표층 분석은 파일이 가진 표층적인 정보를 추출하는 것

- 파일 형식을 특정하는 것
- 문자열을 추출하는 것



```shell
file [파일 명]
```

위 명령어를 통해, 정적 동적 링크인지, strip돼 있는지 간단한 정보들을 우선적으로 파악한다.



**알 수 있는 정보**

- 32비트 운영체제용 elf형식의 실행파일 : ELF 32-bit

  ELF : 리눅스 실행 파일 형식

- Least Significant Byte - 리틀 엔디언 : LSB executable

- 실행 파일 내의 심볼릭 정보가 그대로 남음 : not stripped

  -> stripped : 심볼 정보(함수 이름이나 번지 등을 표시)가 삭제된 파일



#### 문자열 추출

문자열 추출로 얻을 수 있는 정보 예시 : Correct!!, Wrong

```shell
strings [파일 명]
# 활용 예시
strings bin.png | grep ctf
```



### 동적 분석

바이너리를 실제로 동작 시켜서 나오는 정보를 통해 분석하는 방법



strace : 시스템 콜을 트레이스 하면서, 인수와 반환값을 통해 어떤 호출이 발생하는지 추적

ltrace : 표준(공유) 라이브러리 함수 호출을 추적



### 정적 분석

#### 함수 호출 규약

API 호출에 대한 세부 사항을 파악하기 위해 호출 규약을 이해해야함

호출 규약 : 서브 루틴에 인수를 전달 하는 방법 및 결과를 반환하는 방법을 정한 규약

> IDA : 함수 이름 선택 Y누르고 ok버튼으로 호출규약 자동 판단





---

위 내용은 `CTF 정보보안 콘테스트 첼린지북 - 우스이 토시노리 외 7인`을 참고하여 정리한 내용입니다.